<div class="p-2 h-screen flex flex-col">
	<div class="flex justify-center">
		<div class="m-2">
			<button mat-button color="primary" class="m-2" (click)="cancel()">CANCEL</button>
		</div>
		<div class="m-2">
			<button mat-flat-button color="primary" class="m-2" (click)="save()">SAVE</button>
		</div>
	</div>

	<div class="flex flex-1" *ngIf="!isSmallScreen">
		<div class="w-1/2 h-full flex flex-col">
			<p class="text-center text-3xl font-semibold mb-3">To do</p>
			<div class="flex justify-center flex-1 relative">
				<div *ngIf="!undoneItems || undoneItems.length == 0"
					class="min-w-full flex justify-center text-gray-500 text-lg absolute" @listMessageAnimation>
					<span>There is nothing left to do...</span>
				</div>
				<div class="drag-list h-full w-4/5 pb-10" cdkDropList #undoneList="cdkDropList"
					[cdkDropListConnectedTo]="doneList" [cdkDropListData]="undoneItems"
					(cdkDropListDropped)="drop($event)">
					<div *ngFor="let x of undoneItems" class="drag-item" cdkDrag cdkDragLockAxis="x">
						<mat-card class="mb-2 cursor-move">
							<div class="w-full flex">
								<div class="w-full ml-2">
									<div class="mb-1">
										<span class="text-xl">
											{{ x.name }}
										</span>
									</div>
									<div class="w-full">
										<span class="text-gray-500">
											{{ x.description }}
										</span>
									</div>
								</div>
							</div>
						</mat-card>
					</div>
				</div>
			</div>
		</div>
		<div class="w-1/2 h-full flex flex-col">
			<p class="text-center text-3xl font-semibold mb-3">Done</p>
			<div class="flex justify-center h-full relative flex-1">
				<div *ngIf="!doneItems || doneItems.length == 0"
					class="min-w-full flex justify-center text-gray-500 text-lg absolute" @listMessageAnimation>
					<span>Nothing has been done yet...</span>
				</div>
				<div class="drag-list h-full w-4/5 pb-10" cdkDropList #doneList="cdkDropList"
					[cdkDropListConnectedTo]="undoneList" [cdkDropListData]="doneItems"
					(cdkDropListDropped)="drop($event)">
					<div *ngFor="let x of doneItems" class="drag-item" cdkDrag cdkDragLockAxis="x">
						<mat-card class="mb-2 cursor-move">
							<div class="w-full flex">
								<div class="w-full ml-2">
									<div class="mb-1">
										<span class="text-xl line-through text-gray-700">
											{{ x.name }}
										</span>
									</div>
									<div class="w-full">
										<span class="text-gray-500">
											{{ x.description }}
										</span>
									</div>
								</div>
							</div>
						</mat-card>
					</div>
				</div>
			</div>
		</div>
	</div>

	<div *ngIf="isSmallScreen">
		<mat-list>
			<div mat-subheader>To do</div>
			<div *ngFor="let x of undoneItems" class="px-5 pb-2">
				<div>
					<mat-checkbox class="text-xl mb-1" color="primary" (change)="onCheckboxChange($event, x)">
						{{ x.name }}
					</mat-checkbox>
				</div>
				<div>
					<span class="text-gray-500 h-5">
						{{ x.description }}
					</span>
				</div>
			</div>
			<mat-divider></mat-divider>
			<div mat-subheader>Done</div>
			<div *ngFor="let x of doneItems" class="px-5 pb-2">
				<div>
					<mat-checkbox checked="true" class="text-xl mb-1" color="primary"
						(change)="onCheckboxChange($event, x)">
						<span class="text-gray-700 line-through">
							{{ x.name }}
						</span>
					</mat-checkbox>
				</div>
				<div>
					<span class="text-gray-500">
						{{ x.description }}
					</span>
				</div>
			</div>
		</mat-list>
	</div>
</div>